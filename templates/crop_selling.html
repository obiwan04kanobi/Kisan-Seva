<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crop Selling Form</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Sell your agricultural produce easily with Kisan Seva. Fill out the form with your crop details and connect with buyers.">
    <meta name="lang" content="en">
    <meta name="MobileOptimized" content="width">
    <meta name="HandheldFriendly" content="true">
    <link rel="icon" href="/static/index/favicon.ico"/>
    <!--Google Font-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">

    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!--Search Box & NavBar functionality-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">


    <!--CSS files-->
    <link rel="shortcut icon" href="/static/index/kisan_seva_logo.webp">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.9.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="/static/css/products_home.css">
    <style>
        body {
            background-color: #f8f9fa;
        }

        .form-container {
            background: #fff;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            padding-top: 20px;
            margin-bottom: 50px;
            margin-top: auto;
        }

        .form-group label {
            font-weight: bold;
        }
    </style>
</head>

<body>
    <div class="site-container">

        <header>
            <div class="accessibility_top_nav">
                <div class="wrapper">
                    <div class="region region-header-top">
                        <div id="block-cmf-content-header-region-block" class="block block-cmf-content first last odd">
                            <div class="wrapper common-wrapper" style="background-color: lightgrey;">
                                <div class="container common-container">
                                    <div class="common-left clearfix" style="height: 85px;">
                                        <!-- Updated the ul style to include centering properties -->
                                        <ul
                                            style="display: flex; justify-content: center; align-items: center; height: 100%; margin: 0; padding: 0;">
                                            <li style="list-style: none;">
                                                <!-- Added a list item element for proper HTML structure -->
                                                <a href="/">
                                                    <img src="/static/index/kisan_seva_logo.webp" alt="kisan seva logo"
                                                        style="height: 70px; border-radius: 100px;">
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--Page Navigation goes here -->
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                <div class="container">
                    <a class="navbar-brand">Kisan Seva</a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false"
                        aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNavDropdown">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" href="/" aria-label="Homepage">Home</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button"
                                    data-bs-toggle="dropdown" aria-expanded="false">
                                    About Us
                                </a>
                                <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                    <li><a class="dropdown-item" href="/mission"
                                            aria-label="Our Mission & Vision">Mission &
                                            Vision</a>
                                    </li>
                                    <li><a class="dropdown-item" href="/about" aria-label="About">Our Team</a></li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button"
                                    data-bs-toggle="dropdown" aria-expanded="false">
                                    Services
                                </a>
                                <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                    <li><a class="dropdown-item" href="/prediction" aria-label="Crop Prediction">Crop
                                            Prediction</a></li>
                                    <li><a class="dropdown-item" href="/marketplace" aria-label="Shop">Shop</a></li>
                                    <li><a class="dropdown-item" href="/loan" aria-label="Agri Loan">Agri Loan</a></li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/articles_home" aria-label="Articles Homepage">Articles</a>
                            </li>
                        </ul>
                        <ul class="navbar-nav ms-auto">

                            <!-- Language Dropdown
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownLang" role="button"
                                    data-bs-toggle="dropdown" aria-expanded="false">
                                    Language
                                </a>
                                <ul class="dropdown-menu" aria-labelledby="navbarDropdownLang">
                                    <li><a class="dropdown-item"
                                            href="https://kisanseva-shop.translate.goog/?_x_tr_sl=en&_x_tr_tl=hi&_x_tr_hl=en-US&_x_tr_pto=wapp">हिंदी</a>
                                    </li>
                                </ul>
                            </li> -->

                            <!-- Account Info and Logout Buttons -->
                            {% if session.logged_in %}
                            <li class="nav-item">
                                <a class="nav-link" href="{{ url_for('account') }}">
                                    <i class="bi bi-person-circle"></i> Account
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link logout-button" href="{{ url_for('logout') }}">
                                    <i class="bi bi-box-arrow-right"></i> Logout
                                </a>
                            </li>
                            {% else %}
                            <li class="nav-item">
                                <a class="nav-link btn-signin" href="/login">Sign In</a>
                            </li>
                            <li class="nav-item">
                                <a class="btn btn-signup ms-3" href="/signup" role="button">Sign Up</a>
                            </li>
                            {% endif %}
                        </ul>
                    </div>
                </div>
            </nav>
        </header>

        <main class="content-wrap">
            <div class="container mt-5">
                <div class="form-container">
                    <h2 class="mb-4" style="text-align: center;">Sell your Produce </h2>
                    <!-- Flash message section -->
                    {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                    <div class="alert-container">
                        {% for category, message in messages %}
                        <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                            {{ message }}
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        {% endfor %}
                    </div>
                    {% endif %}
                    {% endwith %}
                    <form action="{{ url_for('submit_crop_selling') }}" method="POST" onsubmit="validateForm(event)">
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="first_name">First Name</label>
                                <input type="text" class="form-control" id="first_name" name="first_name"
                                    value="{{ user.first_name }}" required>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="last_name">Last Name</label>
                                <input type="text" class="form-control" id="last_name" name="last_name"
                                    value="{{ user.last_name }}" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="contact">Contact Number</label>
                            <input type="text" class="form-control" id="contact" name="contact" placeholder="+91"
                                value="{{ user.phone }}" required>
                        </div>
                        <div class="form-group">
                            <label for="address">Address</label>
                            <input class="form-control" id="address" name="address" rows="3"
                                placeholder="B 170, Block B, Sector 51, Noida, Uttar Pradesh 201301, India"
                                value="{{ user.address }}" required></input>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="fruits">Fruits</label>
                                <select class="form-control" id="fruits" name="fruits">
                                    <option value="">--Select Fruit--</option>
                                    <option value="Apple">Apple</option>
                                    <option value="Banana">Banana</option>
                                    <option value="Mango">Mango</option>
                                    <option value="Mango">Dates (Fresh)</option>
                                    <option value="Mango">Dry Dates Soft (Khazur)</option>
                                    <option value="Mango">Dry Dates Hard (Chhohara)</option>
                                    <option value="Mango">Pineapple (Fresh)</option>
                                    <option value="Mango">Guava</option>
                                    <option value="Mango">Oranges (Fresh)</option>
                                    <option value="Mango">Mandarins</option>
                                    <option value="Mango">Lemons</option>
                                    <option value="Mango">Grapefruit (Fresh)</option>
                                    <option value="Mango">Water Melons</option>
                                    <option value="Mango">Papaya</option>
                                    <option value="Mango">Apricots</option>
                                    <option value="Mango">Cherries</option>
                                    <option value="Mango">Pomegranates</option>
                                    <option value="Mango">Tamarind (Fresh)</option>
                                    <option value="Mango">Sitafal</option>
                                    <option value="Mango">Custard Apple</option>
                                    <option value="Mango">Avocados</option>
                                    <option value="Mango">Strawberries (Fresh)</option>
                                    <option value="Mango">Lichi</option>
                                    <option value="Mango">Peaches</option>
                                    <!-- Add more fruits as needed -->
                                </select>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="fruit_quantity">Quantity (in kg)</label>
                                <input type="number" class="form-control" id="fruit_quantity" name="fruit_quantity"
                                    min="10">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="vegetables">Vegetables</label>
                                <select class="form-control" id="vegetables" name="vegetables">
                                    <option value="">--Select Vegetable--</option>
                                    <option value="Carrot">Carrot</option>
                                    <option value="Potato">Potato</option>
                                    <option value="Tomato">Tomato</option>
                                    <!-- Add more vegetables as needed -->
                                </select>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="vegetable_quantity">Quantity (in kg)</label>
                                <input type="number" class="form-control" id="vegetable_quantity"
                                    name="vegetable_quantity" min="10">
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">Submit</button>
                    </form>
                </div>
            </div>
            <script>
                function validateForm(event) {
                    event.preventDefault(); // Prevent form submission

                    const fruits = document.getElementById('fruits').value;
                    const fruitQuantity = document.getElementById('fruit_quantity').value;
                    const vegetables = document.getElementById('vegetables').value;
                    const vegetableQuantity = document.getElementById('vegetable_quantity').value;

                    if ((fruits === '' && vegetables === '') ||
                        (fruits !== '' && (fruitQuantity === '' || fruitQuantity < 10)) ||
                        (vegetables !== '' && (vegetableQuantity === '' || vegetableQuantity < 10))) {
                        alert('Please select at least one option and enter a valid quantity of at least 10 kg for the selected item.');
                    } else {
                        event.target.submit(); // Submit form if validation passes
                    }
                }
            </script>
        </main>


        <!-- footer-->
        <footer class="footer mt-auto">
            <div class="container text-center text-md-left">
                <div class="row">
                    <div class="col-md-3 footer-column">
                        <h5>Services</h5>
                        <div>
                            <a href="/prediction">Crop Prediction</a>
                        </div>
                        <div>
                            <a href="/marketplace">Shop</a>
                        </div>
                        <div>
                            <a href="/loan">Agri Loan</a>
                        </div>
                    </div>
                    <div class="col-md-3 footer-column">
                        <h5>About</h5>
                        <div>
                            <a href="/about">Our Team</a>
                        </div>
                        <div>
                            <a href="/mission">Mission & Vision</a>
                        </div>
                        <div>
                            <a href="https://forms.gle/iRf3eKC6bq9XV21B7">Feedback</a>
                        </div>
                        <div>
                            <a href="https://forms.gle/Gb3K34tQgGyLmazL8">Contact Us</a>
                        </div>
                    </div>
                    <div class="col-md-3 footer-column">
                        <h5>Legal</h5>
                        <div>
                            <a href="/privacy_policy">Privacy Policies</a>
                        </div>
                        <div>
                            <a href="/terms_and_conditions">Term & Conditions</a>
                        </div>
                        <div>
                            <a href="/disclaimer">Disclaimer</a>
                        </div>
                    </div>
                    <div class="col-md-3 footer-column">
                        <h5>Connect</h5>
                        <div class="social-icons">
                            <a href="#"><img src="https://img.icons8.com/ios-filled/50/ffffff/facebook-new.png"
                                    alt="Facebook" style="width: 24px;"></a>
                            <a href="https://twitter.com/kisanseva24"><img
                                    src="https://img.icons8.com/ios-filled/50/ffffff/twitter.png" alt="Twitter"
                                    style="width: 24px;"></a>
                            <a href="https://www.instagram.com/kisanseva.shop/"><img
                                    src="https://img.icons8.com/ios-filled/50/ffffff/instagram-new.png" alt="Instagram"
                                    style="width: 24px;"></a>
                            <a href="#"><img src="https://img.icons8.com/ios-filled/50/ffffff/youtube.png" alt="Youtube"
                                    style="width: 24px;"></a>
                        </div>
                        <a href="#">Newsletter</a>
                    </div>
                </div>
                <div class="text-center mt-4">
                    <p>Copyright © 2024 Kisan Seva. All rights reserved.</p>
                    <p>Total Visits: {{ visitor_count }}</p>
                </div>
            </div>
        </footer>


    </div>
</body>

</html>